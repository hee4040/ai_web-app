# 개발 볼륨 분석 보고서

**작성일**: 2025-01-29  
**프로젝트**: EnvRecipe  
**분석 기준**: `docs/functional_flow.md` 구현 리스트

---

## 📊 전체 개요

| Phase | 항목 수 | 예상 작업량 | 우선순위 | 의존성 |
|-------|--------|------------|---------|--------|
| **Phase 1: Foundation** | 7개 | **중간** | 🔴 최우선 | 없음 |
| **Phase 2: Core Logic** | 11개 | **높음** | 🟡 높음 | Phase 1 완료 필수 |
| **Phase 3: Interaction & Feedback** | 10개 | **중간** | 🟢 중간 | Phase 2 완료 후 |
| **합계** | **28개** | **높음** | - | - |

---

## 🔍 현재 구현 상태

### ✅ 완료된 항목
- UI 컴포넌트 구조 (shadcn/ui 기반)
- 페이지 레이아웃 및 라우팅 구조
- 더미 데이터 기반 UI 렌더링
- 데이터베이스 스키마 및 마이그레이션

### ❌ 미구현 항목
- **Supabase 클라이언트 설정** (파일만 존재, 구현 없음)
- **인증 시스템** (파일만 존재, 구현 없음)
- **실제 데이터 페칭 로직** (모든 페이지가 더미 데이터 사용)
- **Server Actions** (폼 제출 로직 없음)
- **미들웨어** (파일 없음)
- **이미지 업로드** (UI만 존재, Storage 연동 없음)
- **AI 통합** (API Route만 존재, 로직 없음)

---

## 📋 Phase별 상세 분석

### Phase 1: Foundation (7개 항목)

**목표**: 인프라 구축 및 기본 인증 시스템

| # | 항목 | 복잡도 | 예상 시간 | 의존성 | 현재 상태 |
|---|------|--------|----------|--------|----------|
| 1.1 | Supabase 클라이언트 (클라이언트) | 낮음 | 30분 | 없음 | ❌ 미구현 |
| 1.2 | Supabase 클라이언트 (서버) | 낮음 | 30분 | 없음 | ❌ 미구현 |
| 1.3 | 인증 상태 페칭 및 관리 | 중간 | 1시간 | 1.1 | ❌ 미구현 |
| 1.4 | Google OAuth 로그인 | 중간 | 2시간 | 1.1, 1.3 | ❌ 미구현 |
| 1.5 | 로그아웃 플로우 | 낮음 | 30분 | 1.3 | ❌ 미구현 |
| 1.6 | 카테고리 목록 페칭 | 낮음 | 30분 | 1.2 | ❌ 미구현 |
| 1.7 | 미들웨어 설정 | 중간 | 1시간 | 1.2 | ❌ 미구현 |

**Phase 1 총 예상 시간**: **약 6시간**

**주요 작업**:
- Supabase 패키지 설치 (`@supabase/supabase-js`, `@supabase/ssr`)
- 클라이언트/서버 클라이언트 구현
- 인증 훅 구현 및 OAuth 연동
- 미들웨어 설정

**위험 요소**: 
- Google OAuth 설정 (Supabase 대시보드 설정 필요)
- 환경 변수 설정 확인

---

### Phase 2: Core Logic (11개 항목)

**목표**: 핵심 CRUD 기능 및 비즈니스 로직

| # | 항목 | 복잡도 | 예상 시간 | 의존성 | 현재 상태 |
|---|------|--------|----------|--------|----------|
| 2.1 | 공개 레시피 목록 페칭 | 중간 | 1.5시간 | 1.2, 1.6 | ⚠️ UI만 존재 |
| 2.2 | 레시피 상세 데이터 페칭 | 중간 | 1.5시간 | 1.2 | ⚠️ UI만 존재 |
| 2.3 | 레시피 작성 폼 제출 | 높음 | 3시간 | 1.2, 1.3 | ⚠️ UI만 존재 |
| 2.4 | 내가 작성한 레시피 목록 | 낮음 | 1시간 | 1.2, 1.3 | ❌ 미구현 |
| 2.5 | 레시피 수정 데이터 로드 | 중간 | 1시간 | 1.2, 1.3 | ❌ 미구현 |
| 2.6 | 레시피 수정 데이터 제출 | 높음 | 2.5시간 | 2.5 | ❌ 미구현 |
| 2.7 | 레시피 삭제 | 낮음 | 1시간 | 1.2, 1.3 | ❌ 미구현 |
| 2.8 | 공개/비공개 토글 | 낮음 | 1시간 | 1.2, 1.3 | ❌ 미구현 |
| 2.9 | AI 보조 기능 호출 | 높음 | 3시간 | 2.3 | ⚠️ API Route만 존재 |
| 2.10 | 북마크한 레시피 목록 | 중간 | 1.5시간 | 1.2, 1.3 | ❌ 미구현 |
| 2.11 | 북마크 추가/삭제 | 중간 | 1.5시간 | 1.2, 1.3 | ⚠️ UI만 존재 |

**Phase 2 총 예상 시간**: **약 18.5시간**

**주요 작업**:
- Server Component에서 데이터 페칭 로직 구현
- Server Actions 구현 (CRUD 작업)
- 이미지 업로드 (Supabase Storage)
- 트랜잭션 처리 및 에러 핸들링
- AI API 통합

**위험 요소**:
- 이미지 업로드 및 Storage 버킷 설정
- AI API 연동 (외부 서비스 의존)
- 복잡한 쿼리 (조인, 필터링, 정렬)
- 트랜잭션 처리 (posts + post_steps)

---

### Phase 3: Interaction & Feedback (10개 항목)

**목표**: UX 개선 및 사용자 피드백

| # | 항목 | 복잡도 | 예상 시간 | 의존성 | 현재 상태 |
|---|------|--------|----------|--------|----------|
| 3.1 | 로딩 상태 관리 | 낮음 | 1시간 | - | ❌ 미구현 |
| 3.2 | 에러 상태 관리 및 표시 | 중간 | 1.5시간 | - | ❌ 미구현 |
| 3.3 | 폼 유효성 검사 | 중간 | 2시간 | 2.3 | ⚠️ 부분 구현 |
| 3.4 | 낙관적 업데이트 | 중간 | 2시간 | 2.8, 2.11 | ❌ 미구현 |
| 3.5 | 성공 피드백 (Toast) | 낮음 | 1시간 | - | ❌ 미구현 |
| 3.6 | 이미지 업로드 진행 상태 | 중간 | 1.5시간 | 2.3 | ❌ 미구현 |
| 3.7 | 검색 기능 | 중간 | 2시간 | 2.1 | ❌ 미구현 |
| 3.8 | 태그 필터링 | 중간 | 2시간 | 2.1 | ⚠️ UI만 존재 |
| 3.9 | 무한 스크롤/페이지네이션 | 높음 | 3시간 | 2.1 | ❌ 미구현 (선택) |
| 3.10 | 프로필 정보 표시 및 업데이트 | 중간 | 2시간 | 1.3 | ❌ 미구현 |

**Phase 3 총 예상 시간**: **약 18시간** (3.9 제외 시 15시간)

**주요 작업**:
- 상태 관리 개선 (로딩, 에러)
- 폼 검증 로직
- Toast 알림 시스템 구축
- 검색 및 필터링 로직
- 낙관적 업데이트 구현

**위험 요소**:
- 무한 스크롤 구현 복잡도 (선택사항)
- 검색 성능 최적화

---

## 📈 전체 예상 작업량

### 시간 추정

| Phase | 최소 | 예상 | 최대 |
|-------|------|------|------|
| Phase 1 | 5시간 | **6시간** | 8시간 |
| Phase 2 | 15시간 | **18.5시간** | 22시간 |
| Phase 3 | 12시간 | **15시간** | 20시간 |
| **합계** | **32시간** | **39.5시간** | **50시간** |

### 작업 단위별 분류

**낮은 복잡도** (총 8개, 약 8시간):
- Supabase 클라이언트 설정
- 로그아웃
- 카테고리 페칭
- 레시피 삭제
- 공개/비공개 토글
- 로딩 상태
- Toast 알림

**중간 복잡도** (총 15개, 약 20시간):
- 인증 상태 관리
- OAuth 로그인
- 미들웨어
- 레시피 목록/상세 페칭
- 레시피 수정
- 북마크 기능
- 에러 처리
- 폼 검증
- 검색/필터링
- 프로필 관리

**높은 복잡도** (총 5개, 약 11.5시간):
- 레시피 작성 (이미지 업로드 포함)
- 레시피 수정 (이미지 처리)
- AI 통합
- 낙관적 업데이트
- 무한 스크롤 (선택)

---

## 🎯 구현 우선순위 및 단계별 계획

### Step 1: 인프라 구축 (Phase 1) - 필수
**예상 소요**: 6시간  
**목표**: 데이터베이스 연결 및 인증 시스템 구축

**작업 순서**:
1. Supabase 패키지 설치 및 클라이언트 설정 (1.1, 1.2) - 1시간
2. 인증 상태 관리 훅 구현 (1.3) - 1시간
3. Google OAuth 로그인 구현 (1.4) - 2시간
4. 로그아웃 구현 (1.5) - 30분
5. 카테고리 목록 페칭 (1.6) - 30분
6. 미들웨어 설정 (1.7) - 1시간

**완료 기준**: 로그인/로그아웃이 정상 작동하고, 카테고리 목록이 DB에서 조회됨

---

### Step 2: 핵심 기능 - 읽기 (Phase 2.1, 2.2, 2.4, 2.10)
**예상 소요**: 5.5시간  
**목표**: 데이터 조회 기능 완성

**작업 순서**:
1. 공개 레시피 목록 페칭 (2.1) - 1.5시간
2. 레시피 상세 데이터 페칭 (2.2) - 1.5시간
3. 내가 작성한 레시피 목록 (2.4) - 1시간
4. 북마크한 레시피 목록 (2.10) - 1.5시간

**완료 기준**: 모든 조회 기능이 실제 DB 데이터를 표시함

---

### Step 3: 핵심 기능 - 쓰기 (Phase 2.3, 2.5, 2.6, 2.7, 2.8)
**예상 소요**: 9시간  
**목표**: CRUD 기능 완성

**작업 순서**:
1. 레시피 작성 폼 제출 (2.3) - 3시간
2. 레시피 수정 데이터 로드 (2.5) - 1시간
3. 레시피 수정 데이터 제출 (2.6) - 2.5시간
4. 레시피 삭제 (2.7) - 1시간
5. 공개/비공개 토글 (2.8) - 1시간
6. 북마크 추가/삭제 (2.11) - 1.5시간

**완료 기준**: 레시피 생성/수정/삭제가 정상 작동하고, 이미지 업로드가 가능함

---

### Step 4: AI 통합 (Phase 2.9)
**예상 소요**: 3시간  
**목표**: AI 보조 기능 연동

**작업 순서**:
1. AI API Route 구현
2. 레시피 저장 후 비동기 AI 호출
3. 결과 DB 저장 및 UI 표시

**완료 기준**: 레시피 저장 시 AI 결과가 자동으로 생성되어 표시됨

---

### Step 5: UX 개선 (Phase 3)
**예상 소요**: 15시간  
**목표**: 사용자 경험 개선

**작업 순서**:
1. 로딩/에러 상태 관리 (3.1, 3.2) - 2.5시간
2. 폼 유효성 검사 (3.3) - 2시간
3. 성공 피드백 (3.5) - 1시간
4. 이미지 업로드 진행 상태 (3.6) - 1.5시간
5. 검색 기능 (3.7) - 2시간
6. 태그 필터링 (3.8) - 2시간
7. 낙관적 업데이트 (3.4) - 2시간
8. 프로필 관리 (3.10) - 2시간
9. 무한 스크롤 (3.9, 선택) - 3시간

**완료 기준**: 모든 사용자 인터랙션에 적절한 피드백 제공

---

## ⚠️ 주요 위험 요소 및 고려사항

### 기술적 위험
1. **Supabase OAuth 설정**: Google OAuth 클라이언트 ID/Secret 설정 필요
2. **이미지 업로드**: Storage 버킷 생성 및 권한 설정 필요
3. **AI API 통합**: 외부 API 의존성 (비용, 레이턴시)
4. **복잡한 쿼리**: 조인 및 필터링 성능 최적화 필요

### 일정 위험
1. **Phase 2 작업량**: 18.5시간으로 가장 많은 시간 소요
2. **이미지 업로드**: 예상보다 복잡할 수 있음
3. **에러 핸들링**: 예상치 못한 에러 케이스 처리 시간

### 의존성 위험
1. **Phase 2는 Phase 1 완료 필수**: 인증 없이는 CRUD 불가
2. **Phase 3는 Phase 2 완료 후**: 실제 기능이 있어야 UX 개선 가능

---

## 💡 최적화 제안

### 빠른 MVP 달성을 위한 우선순위 조정

**최소 MVP 범위** (약 20시간):
- Phase 1 전체 (6시간)
- Phase 2.1, 2.2, 2.3, 2.7 (7시간) - 읽기/작성/삭제만
- Phase 3.1, 3.2, 3.3, 3.5 (5.5시간) - 기본 UX
- **총 18.5시간**

**Phase 2에서 제외 가능한 항목** (나중에 추가):
- 2.4 내 레시피 목록 (마이페이지는 Phase 2)
- 2.5, 2.6 레시피 수정 (초기에는 삭제 후 재작성)
- 2.8 공개/비공개 토글
- 2.9 AI 통합 (Mock으로 대체 가능)
- 2.10, 2.11 북마크 기능

**Phase 3에서 제외 가능한 항목**:
- 3.9 무한 스크롤 (선택사항)
- 3.4 낙관적 업데이트 (기본 업데이트로 대체)
- 3.6 이미지 업로드 진행 상태 (기본 로딩으로 대체)

---

## 📝 결론

### 전체 개발 볼륨
- **총 항목**: 28개
- **예상 총 작업 시간**: 약 39.5시간 (최소 32시간, 최대 50시간)
- **권장 개발 기간**: 5-7일 (하루 6-8시간 기준)

### 권장 개발 순서
1. **Phase 1** (6시간) - 필수 인프라
2. **Phase 2 핵심** (7시간) - 읽기/작성/삭제
3. **Phase 3 기본** (5.5시간) - 로딩/에러/검증
4. **Phase 2 확장** (11.5시간) - 수정/북마크/AI
5. **Phase 3 고급** (9.5시간) - UX 개선

### 다음 단계
1. 이 분석 결과 검토 및 승인
2. Phase 1부터 순차적 구현 시작
3. 각 Phase 완료 후 테스트 및 검증
4. 필요 시 우선순위 조정

---

**마지막 업데이트**: 2025-01-29
